<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>6fb9bce688454384a2f72ae101042bff</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell markdown" id="1ikyjwBege3j">
<p>#Spotify Music Analysis</p>
</div>
<div class="cell markdown" id="KhDVo6wBU2o5">
<p>Listening to music has become an everyday activity for most everyone. Whether listening in the car, on a walk, or to relax, our daily lives usually have some background music playing.</p>
<p>Our project aims to display the trends in songs over the years. We see how popularity is affected by genre and how that has changed over time. These metrics can possibly help us predict what will be popular in the future, and what makes a song catchy. We try to discover trends in the data that shed light on what makes a song good. Throughout our project, we will evaluate the popularities of genres and see how these trends have evolved over time.</p>
<p>We will try to figure out what reasons we have these songs on loop for, or why we shut off the radio when they come on.</p>
</div>
<div class="cell markdown" id="6CAooH3vfIXi">
<p>For this project, we needed libraries such as pandas, numpy, matplotlib, seaborn, sqlite, and more</p>
</div>
<div class="cell markdown" id="Qn0CfHX-BD3-">
<p>#Data Collection</p>
</div>
<div class="cell markdown" id="_dGio0eKA2vF">
<p>As the first step in the data pipeline, we started with data collection. To analyze music, we used the world's most popular streaming platform, Spotify, from which to get our data. We used a <a href="https://www.kaggle.com/datasets/paradisejoy/top-hits-spotify-from-20002019">dataset</a> of 2000 songs from the Top Hits on Spotify from years 1998 to 2020.</p>
<p>First, we import all the necessary libraries and then use pandas read_csv to input our data. We sort it by year to make it more manageable.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:765,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="idXZ_NzUg5Vq" data-outputId="2e45acda-2f9a-437b-c815-b4c74311a9ee">
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sqlite3</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">&quot;songs_normalize.csv&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;ISO-8859-1&quot;</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#sort by year</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>data.sort_values(by<span class="op">=</span><span class="st">&#39;year&#39;</span>,ascending<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">#data</span></span></code></pre></div>
<div class="output execute_result" data-execution_count="4">

  <div id="df-21e062a1-e35d-48f4-ae9a-7f51e8e16807">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>artist</th>
      <th>song</th>
      <th>duration_ms</th>
      <th>explicit</th>
      <th>year</th>
      <th>popularity</th>
      <th>danceability</th>
      <th>energy</th>
      <th>key</th>
      <th>loudness</th>
      <th>mode</th>
      <th>speechiness</th>
      <th>acousticness</th>
      <th>instrumentalness</th>
      <th>liveness</th>
      <th>valence</th>
      <th>tempo</th>
      <th>genre</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>44</th>
      <td>Missy Elliott</td>
      <td>Hot Boyz</td>
      <td>215466</td>
      <td>True</td>
      <td>1998</td>
      <td>49</td>
      <td>0.727</td>
      <td>0.445</td>
      <td>1</td>
      <td>-11.241</td>
      <td>1</td>
      <td>0.2910</td>
      <td>0.33900</td>
      <td>0.000000</td>
      <td>0.1800</td>
      <td>0.527</td>
      <td>81.125</td>
      <td>hip hop, pop, R&amp;B</td>
    </tr>
    <tr>
      <th>82</th>
      <td>Savage Garden</td>
      <td>Crash and Burn</td>
      <td>281466</td>
      <td>False</td>
      <td>1999</td>
      <td>54</td>
      <td>0.581</td>
      <td>0.607</td>
      <td>4</td>
      <td>-8.458</td>
      <td>1</td>
      <td>0.0280</td>
      <td>0.18900</td>
      <td>0.000002</td>
      <td>0.0882</td>
      <td>0.213</td>
      <td>102.030</td>
      <td>pop</td>
    </tr>
    <tr>
      <th>123</th>
      <td>Crazy Town</td>
      <td>Butterfly</td>
      <td>216733</td>
      <td>False</td>
      <td>1999</td>
      <td>71</td>
      <td>0.736</td>
      <td>0.811</td>
      <td>9</td>
      <td>-4.170</td>
      <td>0</td>
      <td>0.0810</td>
      <td>0.00132</td>
      <td>0.000142</td>
      <td>0.1070</td>
      <td>0.609</td>
      <td>103.502</td>
      <td>rock, metal</td>
    </tr>
    <tr>
      <th>34</th>
      <td>Britney Spears</td>
      <td>Born to Make You Happy</td>
      <td>243533</td>
      <td>False</td>
      <td>1999</td>
      <td>58</td>
      <td>0.633</td>
      <td>0.922</td>
      <td>11</td>
      <td>-4.842</td>
      <td>0</td>
      <td>0.0454</td>
      <td>0.11600</td>
      <td>0.000465</td>
      <td>0.0710</td>
      <td>0.686</td>
      <td>84.110</td>
      <td>pop</td>
    </tr>
    <tr>
      <th>35</th>
      <td>Montell Jordan</td>
      <td>Get It On Tonite</td>
      <td>276266</td>
      <td>False</td>
      <td>1999</td>
      <td>59</td>
      <td>0.813</td>
      <td>0.491</td>
      <td>10</td>
      <td>-9.923</td>
      <td>0</td>
      <td>0.0770</td>
      <td>0.24100</td>
      <td>0.000046</td>
      <td>0.0817</td>
      <td>0.868</td>
      <td>99.008</td>
      <td>hip hop, pop, R&amp;B</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>333</th>
      <td>Lil' Kim</td>
      <td>Magic Stick</td>
      <td>359973</td>
      <td>True</td>
      <td>2019</td>
      <td>47</td>
      <td>0.849</td>
      <td>0.498</td>
      <td>2</td>
      <td>-7.872</td>
      <td>1</td>
      <td>0.2720</td>
      <td>0.11600</td>
      <td>0.000045</td>
      <td>0.2680</td>
      <td>0.502</td>
      <td>92.980</td>
      <td>hip hop, pop, R&amp;B</td>
    </tr>
    <tr>
      <th>1999</th>
      <td>Post Malone</td>
      <td>Circles</td>
      <td>215280</td>
      <td>False</td>
      <td>2019</td>
      <td>85</td>
      <td>0.695</td>
      <td>0.762</td>
      <td>0</td>
      <td>-3.497</td>
      <td>1</td>
      <td>0.0395</td>
      <td>0.19200</td>
      <td>0.002440</td>
      <td>0.0863</td>
      <td>0.553</td>
      <td>120.042</td>
      <td>hip hop</td>
    </tr>
    <tr>
      <th>568</th>
      <td>Will Smith</td>
      <td>Switch</td>
      <td>197666</td>
      <td>False</td>
      <td>2020</td>
      <td>34</td>
      <td>0.873</td>
      <td>0.900</td>
      <td>5</td>
      <td>-4.325</td>
      <td>0</td>
      <td>0.1800</td>
      <td>0.01070</td>
      <td>0.000502</td>
      <td>0.5560</td>
      <td>0.478</td>
      <td>102.516</td>
      <td>hip hop, pop</td>
    </tr>
    <tr>
      <th>308</th>
      <td>t.A.T.u.</td>
      <td>All The Things She Said</td>
      <td>214440</td>
      <td>True</td>
      <td>2020</td>
      <td>39</td>
      <td>0.527</td>
      <td>0.834</td>
      <td>5</td>
      <td>-5.767</td>
      <td>0</td>
      <td>0.0474</td>
      <td>0.04110</td>
      <td>0.005990</td>
      <td>0.1050</td>
      <td>0.381</td>
      <td>179.920</td>
      <td>pop</td>
    </tr>
    <tr>
      <th>1991</th>
      <td>NSG</td>
      <td>Options</td>
      <td>240081</td>
      <td>True</td>
      <td>2020</td>
      <td>57</td>
      <td>0.836</td>
      <td>0.621</td>
      <td>1</td>
      <td>-4.684</td>
      <td>0</td>
      <td>0.0894</td>
      <td>0.38900</td>
      <td>0.000092</td>
      <td>0.1040</td>
      <td>0.762</td>
      <td>101.993</td>
      <td>World/Traditional, hip hop</td>
    </tr>
  </tbody>
</table>
<p>2000 rows × 18 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-21e062a1-e35d-48f4-ae9a-7f51e8e16807')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-21e062a1-e35d-48f4-ae9a-7f51e8e16807 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-21e062a1-e35d-48f4-ae9a-7f51e8e16807');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="Uzr4ohmFA5Sz">
<p>There are many attributes to the songs above, many of them are qualitative. For example, the “energy” a song has. Things like these were measured based off other factors such as loudness and tempo to extrapolate these values.</p>
<p>In the dataset above, the columns correlate to</p>
<p>-artist(who sang the song)<br> -song(name)<br> -duration_ms(how long the song is in milliseconds)<br> -explicit(whether it has swear words, True or False)<br> -year(what year it debuted)<br> -popularity(given a score 0-100 how popular the song was)<br> -danceability(a measure of how suitable the song is to dance to, based on multiple factors)<br> -energy(how energetic the song feels)<br> -key(what key the song was in, C=0, D=1 ...)<br> -loudness(how loud the song was)<br> -mode(whether it was in major or minor, major=1 minor=0)<br> -speechiness(how much spoken words play a part, from 0-0.6)<br> -acousticness(whether it was an acoustic track or not, higher number is more acoustic)<br> -instrumentalness(inverse of speechiness, the more instrumentals the song has)<br> -liveness(whether the song was performed live)<br> -valence(how happy the song is from 0-1)<br> -tempo(the Beats Per Minute of the song)<br> -genre<br></p>
</div>
<div class="cell markdown" id="9Nav4-2GA-Kh">
<p>In order to make generalizations about the data, we first decided to see what genre was most common in the data set. This would give us a sense of what genres we were working with and which ones were most frequent on the Top Hits on Spotify. To accomplish this, we created a new list called <em>genres</em> and traveresed through the <em>genre</em> column in our <em>data</em> dataframe. For songs that fell under one genre, we simply added the element to the <em>genres</em> list. However, for songs that were listed as multiple genres, we accounted for this by adding each genre to the list seperately. For example, if a song has genres "hip hop, pop, R&amp;B", we added each genre by splitting the string by the index of the commas, adding "hip hop", "pop", and "R&amp;B" to the list. We then displayed the frequency of each genre in the <em>genres</em> list on a bar graph.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:388,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="uDvjBmeYq_zk" data-outputId="7b680ee0-2dd2-4565-e6cd-c8311bb15692">
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>genres <span class="op">=</span> []</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> genre <span class="kw">in</span> data[<span class="st">&#39;genre&#39;</span>]:</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;,&quot;</span> <span class="kw">in</span> genre:</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>      commas <span class="op">=</span> genre.count(<span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>      <span class="cf">while</span>(commas <span class="op">&gt;</span> <span class="dv">0</span>):</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        c <span class="op">=</span> genre.find(<span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        genres.append(genre[<span class="dv">0</span>:c])</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        genre <span class="op">=</span> genre[c<span class="op">+</span><span class="dv">2</span>:<span class="bu">len</span>(genre)]</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>        commas <span class="op">=</span> commas <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>      genres.append(genre)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>: </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>      genres.append(genre)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> Counter(genres)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame.from_dict(count, orient<span class="op">=</span><span class="st">&#39;index&#39;</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> df.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, title<span class="op">=</span><span class="st">&#39;Overall Frequencey of Genres in Top Hits Spotify from 2000-2019&#39;</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">&quot;Genre&quot;</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">&quot;Genre Frequency&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="11">
<pre><code>Text(0, 0.5, &#39;Genre Frequency&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_1d14fb7bbb7f4419966611b58a09b64c/9348dab4268c551974f82475344c38903940a2d7.png" /></p>
</div>
</div>
<div class="cell markdown" id="FtkL5sK3Vwt0">
<p>Through the bar graph, we can see most of the songs we're analyzing are pop and hip hop, two more modern genres. This can tell us about how songs on Spotify are geared towards a younger audience, or that inherently by being a pop song, you have a better chance of being popular.</p>
<p>There is such a small following for songs under metal and blues that people searching for new music will almost never explore that genre, making songs in that category doomed for obscurity. It’s similar to a snowball effect. The more popular a genre gets, the more followers it gets which makes them listen to more songs in that genre. The inverse is also true which is why we can see such a polarizing gap between the popular groups vs unpopular ones.</p>
<p>Nowadays, if you want to create a viral song, it almost always has to be pop.</p>
</div>
<div class="cell markdown" id="uq2__yLlV2e6">
<p>While we can use this bar graph to see the overarching most frequent genres in the Top Hits, it is not very precise, and the exact frequencies are not very clear due to its large scale. To further analyze the frequency of songs from a certain genre on the Top Hits and get a more quantative visualization of the data, we created a new dataframe, <em>genre_freq</em>. This dataframe displays the frequency of each genre every year, as well as the most frequent genre and its frequency. This table gives us a more exact, numerical approach to analyzing the data.</p>
<p>In order to fill the dataframe with the appropriate information, we first grouped the data from the original <em>data</em> dataframe by year. We then analyzed the songs from each year, adding the genres from each song to a list and adding the frequency to the new dataframe in the appropriate cell. We then found the most frequent genre of every year and its frequency by using the most_common() function in the Counter collection.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:789,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="6M0h49J4ALed" data-outputId="1193b688-84bf-4ec7-836c-7e15af9c3718">
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>years <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">tuple</span>(data.groupby(<span class="st">&#39;year&#39;</span>)))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>years</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>most_common <span class="op">=</span> []</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>freq <span class="op">=</span> []</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>genre_freq <span class="op">=</span> pd.DataFrame([], columns <span class="op">=</span> [<span class="st">&#39;year&#39;</span>, <span class="st">&#39;pop&#39;</span>, <span class="st">&#39;rock&#39;</span>, <span class="st">&#39;country&#39;</span>, <span class="st">&#39;metal&#39;</span>, <span class="st">&#39;hip hop&#39;</span>, <span class="st">&#39;R&amp;B&#39;</span>, <span class="st">&#39;Dance/Electronic&#39;</span>, <span class="st">&#39;Folk/Acoustic&#39;</span>, <span class="st">&#39;easy listening&#39;</span>, <span class="st">&#39;latin&#39;</span>, <span class="st">&#39;blues&#39;</span>, <span class="st">&#39;set()&#39;</span>, <span class="st">&#39;World/Traditional&#39;</span>, <span class="st">&#39;jazz&#39;</span>, <span class="st">&#39;classical&#39;</span>, <span class="st">&#39;most_frequent_genre&#39;</span>, <span class="st">&#39;frequency&#39;</span>])</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>genre_freq[<span class="st">&#39;year&#39;</span>] <span class="op">=</span> [<span class="st">&quot;1999&quot;</span>, <span class="st">&quot;2000&quot;</span>, <span class="st">&quot;2001&quot;</span>, <span class="st">&quot;2002&quot;</span>, <span class="st">&quot;2003&quot;</span>, <span class="st">&quot;2004&quot;</span>, <span class="st">&quot;2005&quot;</span>, <span class="st">&quot;2006&quot;</span>, <span class="st">&quot;2007&quot;</span>, <span class="st">&quot;2008&quot;</span>, <span class="st">&quot;2009&quot;</span>, <span class="st">&quot;2010&quot;</span>, <span class="st">&quot;2011&quot;</span>, <span class="st">&quot;2012&quot;</span>, <span class="st">&quot;2013&quot;</span>, <span class="st">&quot;2014&quot;</span>, <span class="st">&quot;2015&quot;</span>, <span class="st">&quot;2016&quot;</span>, <span class="st">&quot;2017&quot;</span>, <span class="st">&quot;2018&quot;</span>, <span class="st">&quot;2019&quot;</span>]</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1999</span>, <span class="dv">2020</span>):</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  genres <span class="op">=</span> []</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> genre <span class="kw">in</span> years[x][<span class="st">&quot;genre&quot;</span>]:</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;,&quot;</span> <span class="kw">in</span> genre:</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>      commas <span class="op">=</span> genre.count(<span class="st">&#39;,&#39;</span>)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>      <span class="cf">while</span>(commas <span class="op">&gt;</span> <span class="dv">0</span>):</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>        c <span class="op">=</span> genre.find(<span class="st">&#39;,&#39;</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>        genres.append(genre[<span class="dv">0</span>:c])</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        genre <span class="op">=</span> genre[c<span class="op">+</span><span class="dv">2</span>:<span class="bu">len</span>(genre)]</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>        commas <span class="op">=</span> commas <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>      genres.append(genre)</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>: </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>      genres.append(genre)</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  count <span class="op">=</span> Counter(genres)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> c <span class="kw">in</span> count:</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    genre_freq.at[x<span class="op">-</span><span class="dv">1999</span>, c] <span class="op">=</span> count[c]</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  most_common.append(count.most_common(<span class="dv">1</span>)[<span class="dv">0</span>][<span class="dv">0</span>])</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  freq.append(count.most_common(<span class="dv">1</span>)[<span class="dv">0</span>][<span class="dv">1</span>])</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>genre_freq[<span class="st">&#39;most_frequent_genre&#39;</span>] <span class="op">=</span> most_common</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>genre_freq[<span class="st">&#39;frequency&#39;</span>] <span class="op">=</span> freq</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>genre_freq <span class="op">=</span> genre_freq.fillna(<span class="dv">0</span>)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>genre_freq</span></code></pre></div>
<div class="output execute_result" data-execution_count="189">

  <div id="df-16f2ab2b-e522-4ac4-ab4e-f93c001fcf59">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>pop</th>
      <th>rock</th>
      <th>country</th>
      <th>metal</th>
      <th>hip hop</th>
      <th>R&amp;B</th>
      <th>Dance/Electronic</th>
      <th>Folk/Acoustic</th>
      <th>easy listening</th>
      <th>latin</th>
      <th>blues</th>
      <th>set()</th>
      <th>World/Traditional</th>
      <th>jazz</th>
      <th>classical</th>
      <th>most_frequent_genre</th>
      <th>frequency</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1999</td>
      <td>29</td>
      <td>8</td>
      <td>1</td>
      <td>3</td>
      <td>7</td>
      <td>8</td>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>29</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2000</td>
      <td>57</td>
      <td>13</td>
      <td>0</td>
      <td>8</td>
      <td>21</td>
      <td>25</td>
      <td>5</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>57</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2001</td>
      <td>92</td>
      <td>16</td>
      <td>3</td>
      <td>8</td>
      <td>32</td>
      <td>37</td>
      <td>12</td>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>92</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2002</td>
      <td>74</td>
      <td>14</td>
      <td>0</td>
      <td>5</td>
      <td>46</td>
      <td>32</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>74</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2003</td>
      <td>79</td>
      <td>14</td>
      <td>0</td>
      <td>12</td>
      <td>34</td>
      <td>34</td>
      <td>10</td>
      <td>0</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>pop</td>
      <td>79</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2004</td>
      <td>66</td>
      <td>11</td>
      <td>0</td>
      <td>1</td>
      <td>43</td>
      <td>30</td>
      <td>9</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>4</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>66</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2005</td>
      <td>81</td>
      <td>19</td>
      <td>3</td>
      <td>5</td>
      <td>51</td>
      <td>31</td>
      <td>5</td>
      <td>4</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td>pop</td>
      <td>81</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2006</td>
      <td>75</td>
      <td>14</td>
      <td>2</td>
      <td>1</td>
      <td>27</td>
      <td>28</td>
      <td>6</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>75</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2007</td>
      <td>71</td>
      <td>20</td>
      <td>0</td>
      <td>6</td>
      <td>40</td>
      <td>34</td>
      <td>9</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>71</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2008</td>
      <td>83</td>
      <td>14</td>
      <td>0</td>
      <td>6</td>
      <td>35</td>
      <td>37</td>
      <td>7</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>83</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2009</td>
      <td>68</td>
      <td>9</td>
      <td>1</td>
      <td>2</td>
      <td>34</td>
      <td>23</td>
      <td>12</td>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>68</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2010</td>
      <td>97</td>
      <td>6</td>
      <td>4</td>
      <td>0</td>
      <td>54</td>
      <td>23</td>
      <td>28</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>97</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2011</td>
      <td>84</td>
      <td>13</td>
      <td>2</td>
      <td>2</td>
      <td>48</td>
      <td>20</td>
      <td>26</td>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>84</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2012</td>
      <td>104</td>
      <td>11</td>
      <td>3</td>
      <td>2</td>
      <td>44</td>
      <td>10</td>
      <td>36</td>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>104</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2013</td>
      <td>72</td>
      <td>7</td>
      <td>1</td>
      <td>0</td>
      <td>27</td>
      <td>8</td>
      <td>26</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>72</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2014</td>
      <td>97</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>30</td>
      <td>9</td>
      <td>41</td>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>97</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2015</td>
      <td>89</td>
      <td>14</td>
      <td>0</td>
      <td>2</td>
      <td>33</td>
      <td>21</td>
      <td>28</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>pop</td>
      <td>89</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2016</td>
      <td>87</td>
      <td>7</td>
      <td>0</td>
      <td>1</td>
      <td>39</td>
      <td>19</td>
      <td>42</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>87</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2017</td>
      <td>88</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>42</td>
      <td>3</td>
      <td>30</td>
      <td>1</td>
      <td>1</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>88</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2018</td>
      <td>74</td>
      <td>8</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>10</td>
      <td>31</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>74</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2019</td>
      <td>63</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>38</td>
      <td>9</td>
      <td>21</td>
      <td>0</td>
      <td>0</td>
      <td>8</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>pop</td>
      <td>63</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-16f2ab2b-e522-4ac4-ab4e-f93c001fcf59')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-16f2ab2b-e522-4ac4-ab4e-f93c001fcf59 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-16f2ab2b-e522-4ac4-ab4e-f93c001fcf59');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="UXM6bMPuY1oF">
<p>Through this new dataframe, we can see that in every single year data has been recorded, pop has been the most popular category. This is not out of line with our findings, but EVERY year for the past 20 years is quite a spectacle. Pop has held quite a grip on the top of the charts.</p>
</div>
<div class="cell markdown" id="3wwQQHGuZk-d">
<p>Using this dataframe, we can now see how the frequency of genres of songs in the Top Hits might have changed from 2000-2019. We felt as though a bar graph would be the best way to display this information. Instead of displaying all genres in this bar graph, we decided to focus on the 5 most frequent genres-- pop, hip hop, R&amp;B, Dance/Electronic, and rock.</p>
<p>We created the graph by ploting each genre's frequency over the years as a new bar and shifting its position to make the information more readable.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:468,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="7MMmsYe3Xhcs" data-outputId="616dee3a-c528-4fb6-c3eb-55cc03b82cba">
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#set width of bar</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>barWidth <span class="op">=</span> <span class="fl">0.15</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.subplots(figsize <span class="op">=</span>(<span class="dv">25</span>, <span class="dv">8</span>))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#set height of bar</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> genre_freq[<span class="st">&#39;pop&#39;</span>].to_list()</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>hip_hop <span class="op">=</span> genre_freq[<span class="st">&#39;hip hop&#39;</span>].to_list()</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>r_b <span class="op">=</span> genre_freq[<span class="st">&#39;R&amp;B&#39;</span>].to_list()</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>dance <span class="op">=</span> genre_freq[<span class="st">&#39;Dance/Electronic&#39;</span>].to_list()</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>rock <span class="op">=</span> genre_freq[<span class="st">&#39;rock&#39;</span>].to_list()</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#set position of bar on x axis</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>br1 <span class="op">=</span> np.arange(<span class="bu">len</span>(pop))</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>br2 <span class="op">=</span> [x <span class="op">+</span> barWidth <span class="cf">for</span> x <span class="kw">in</span> br1]</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>br3 <span class="op">=</span> [x <span class="op">+</span> barWidth <span class="cf">for</span> x <span class="kw">in</span> br2]</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>br4 <span class="op">=</span> [x <span class="op">+</span> barWidth <span class="cf">for</span> x <span class="kw">in</span> br3]</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>br5 <span class="op">=</span> [x <span class="op">+</span> barWidth <span class="cf">for</span> x <span class="kw">in</span> br4]</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co">#make the plot</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>plt.bar(br1, pop, color <span class="op">=</span><span class="st">&#39;lightcoral&#39;</span>, width <span class="op">=</span> barWidth, label <span class="op">=</span><span class="st">&#39;pop&#39;</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>plt.bar(br2, hip_hop, color <span class="op">=</span><span class="st">&#39;royalblue&#39;</span>, width <span class="op">=</span> barWidth, label <span class="op">=</span><span class="st">&#39;hip hop&#39;</span>)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>plt.bar(br3, r_b, color <span class="op">=</span><span class="st">&#39;lightgreen&#39;</span>, width <span class="op">=</span> barWidth, label <span class="op">=</span><span class="st">&#39;R&amp;B&#39;</span>)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>plt.bar(br4, dance, color <span class="op">=</span><span class="st">&#39;mediumpurple&#39;</span>, width <span class="op">=</span> barWidth, label <span class="op">=</span><span class="st">&#39;Dance/Electronic&#39;</span>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>plt.bar(br5, rock, color <span class="op">=</span><span class="st">&#39;black&#39;</span>, width <span class="op">=</span> barWidth, label <span class="op">=</span><span class="st">&#39;rock&#39;</span>)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.xticks(r + width/2, genre_freq[&#39;year&#39;])</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>plt.xticks([r <span class="op">+</span> <span class="fl">0.2</span> <span class="op">+</span> barWidth <span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(pop))], genre_freq[<span class="st">&#39;year&#39;</span>])</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Frequencey of Top 5 Genres in Top Hits Spotify from 2000-2019&quot;</span>)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Year&quot;</span>)</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Genre Frequency&quot;</span>)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_1d14fb7bbb7f4419966611b58a09b64c/49bcae20197ec4db88a04cdd7677d330c56eb0e3.png" /></p>
</div>
</div>
<div class="cell markdown" id="qAtXXhcWe6T8">
<p>As expected, pop is the most frequent genre over the years; however, this graph does reveal some new information about the other genres. There is a flucuation in frequency for hip hop songs, rising and falling over the years. Rock also fluctuates, but mainly maintains a low frequency over the years in comparison to the other genres. However, 2 genres that do show an increasing and decreasing trend are R&amp;B and Dance/Electronic. R&amp;B, which was more frequent in the early 2000s, begins to fall around 2009/2010, whereas Dance/Electronic had the opposite effect and began to rise around that time-- essentially "swapping". This shift illustrates how people's preference in music began to change from 1999-2009 to 2010-2019, from soulful and rythmic to more upbeat and danceable.</p>
</div>
<div class="cell markdown" id="QjRN3iSuIbyZ">
<p>While it's clear that pop is the most frequent genre to appear in the Top Hits, does this mean that its also the most popular? To determine this in a quantitative manner, we created a new dataframe, <em>genre_pop</em>. This dataframe displays the average popularity score of each genre every year. This table gives us a more exact, numerical approach to analyzing the data.</p>
<p>In order to fill the dataframe with the appropriate information, we first grouped the data from the original <em>data</em> dataframe by year. We then analyzed the songs from each year, adding the genres from each song to a list and adding the popularity score to the new dataframe in the appropriate cell. Once this is complete for a year, we then divide each cell by the number of songs that fell under that genre, effectively finding the average popularity score.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:708,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="mIsEULml-XL0" data-outputId="31401af8-7791-4b10-8c99-95bfbc033ad6">
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>years <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">tuple</span>(data.groupby(<span class="st">&#39;year&#39;</span>)))</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print(years)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>most_popular <span class="op">=</span> []</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>score <span class="op">=</span> []</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>genre_pop <span class="op">=</span> pd.DataFrame([], columns <span class="op">=</span> [<span class="st">&#39;year&#39;</span>, <span class="st">&#39;pop&#39;</span>, <span class="st">&#39;rock&#39;</span>, <span class="st">&#39;country&#39;</span>, <span class="st">&#39;metal&#39;</span>, <span class="st">&#39;hip hop&#39;</span>, <span class="st">&#39;R&amp;B&#39;</span>, <span class="st">&#39;Dance/Electronic&#39;</span>, <span class="st">&#39;Folk/Acoustic&#39;</span>, <span class="st">&#39;easy listening&#39;</span>, <span class="st">&#39;latin&#39;</span>, <span class="st">&#39;blues&#39;</span>, <span class="st">&#39;set()&#39;</span>, <span class="st">&#39;World/Traditional&#39;</span>, <span class="st">&#39;jazz&#39;</span>, <span class="st">&#39;classical&#39;</span>])</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>genre_pop[<span class="st">&#39;year&#39;</span>] <span class="op">=</span> [<span class="st">&quot;1999&quot;</span>, <span class="st">&quot;2000&quot;</span>, <span class="st">&quot;2001&quot;</span>, <span class="st">&quot;2002&quot;</span>, <span class="st">&quot;2003&quot;</span>, <span class="st">&quot;2004&quot;</span>, <span class="st">&quot;2005&quot;</span>, <span class="st">&quot;2006&quot;</span>, <span class="st">&quot;2007&quot;</span>, <span class="st">&quot;2008&quot;</span>, <span class="st">&quot;2009&quot;</span>, <span class="st">&quot;2010&quot;</span>, <span class="st">&quot;2011&quot;</span>, <span class="st">&quot;2012&quot;</span>, <span class="st">&quot;2013&quot;</span>, <span class="st">&quot;2014&quot;</span>, <span class="st">&quot;2015&quot;</span>, <span class="st">&quot;2016&quot;</span>, <span class="st">&quot;2017&quot;</span>, <span class="st">&quot;2018&quot;</span>, <span class="st">&quot;2019&quot;</span>]</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>genre_pop <span class="op">=</span> genre_pop.fillna(<span class="dv">0</span>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1999</span>, <span class="dv">2020</span>):</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  genres <span class="op">=</span> []</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> genre, popularity <span class="kw">in</span> <span class="bu">zip</span>(years[x][<span class="st">&quot;genre&quot;</span>], years[x][<span class="st">&quot;popularity&quot;</span>]):</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;,&quot;</span> <span class="kw">in</span> genre:</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>      commas <span class="op">=</span> genre.count(<span class="st">&#39;,&#39;</span>)</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>      <span class="cf">while</span>(commas <span class="op">&gt;</span> <span class="dv">0</span>):</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        c <span class="op">=</span> genre.find(<span class="st">&#39;,&#39;</span>)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        genres.append(genre[<span class="dv">0</span>:c])</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>        genre_pop.at[x<span class="op">-</span><span class="dv">1999</span>, genre[<span class="dv">0</span>:c]] <span class="op">=</span> genre_pop.at[x<span class="op">-</span><span class="dv">1999</span>, genre[<span class="dv">0</span>:c]] <span class="op">+</span> popularity</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>        genre <span class="op">=</span> genre[c<span class="op">+</span><span class="dv">2</span>:<span class="bu">len</span>(genre)]</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>        commas <span class="op">=</span> commas <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>      genres.append(genre)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>      genre_pop.at[x<span class="op">-</span><span class="dv">1999</span>, genre] <span class="op">=</span> genre_pop.at[x<span class="op">-</span><span class="dv">1999</span>, genre] <span class="op">+</span> popularity</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>: </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>      genres.append(genre)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  count <span class="op">=</span> Counter(genres)</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> c <span class="kw">in</span> count:</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    genre_pop.at[x<span class="op">-</span><span class="dv">1999</span>, c] <span class="op">=</span> <span class="bu">float</span>(genre_pop.at[x<span class="op">-</span><span class="dv">1999</span>, c])<span class="op">/</span><span class="bu">float</span>(count[c])</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>genre_pop</span></code></pre></div>
<div class="output execute_result" data-execution_count="39">

  <div id="df-b781f422-9135-4e6d-8a4c-988fe56e871a">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>pop</th>
      <th>rock</th>
      <th>country</th>
      <th>metal</th>
      <th>hip hop</th>
      <th>R&amp;B</th>
      <th>Dance/Electronic</th>
      <th>Folk/Acoustic</th>
      <th>easy listening</th>
      <th>latin</th>
      <th>blues</th>
      <th>set()</th>
      <th>World/Traditional</th>
      <th>jazz</th>
      <th>classical</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1999</td>
      <td>39</td>
      <td>59</td>
      <td>66</td>
      <td>68</td>
      <td>37</td>
      <td>64</td>
      <td>38</td>
      <td>65</td>
      <td>65</td>
      <td>58</td>
      <td>66</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2000</td>
      <td>39</td>
      <td>56</td>
      <td>0</td>
      <td>54</td>
      <td>43</td>
      <td>48</td>
      <td>43</td>
      <td>45</td>
      <td>0</td>
      <td>20</td>
      <td>0</td>
      <td>0</td>
      <td>69</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2001</td>
      <td>41</td>
      <td>58</td>
      <td>62</td>
      <td>66</td>
      <td>52</td>
      <td>58</td>
      <td>32</td>
      <td>60</td>
      <td>0</td>
      <td>64</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2002</td>
      <td>44</td>
      <td>58</td>
      <td>0</td>
      <td>71</td>
      <td>48</td>
      <td>56</td>
      <td>38</td>
      <td>66</td>
      <td>60</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2003</td>
      <td>48</td>
      <td>52</td>
      <td>0</td>
      <td>41</td>
      <td>60</td>
      <td>59</td>
      <td>46</td>
      <td>0</td>
      <td>55</td>
      <td>61</td>
      <td>3</td>
      <td>0</td>
      <td>61</td>
      <td>55</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2004</td>
      <td>45</td>
      <td>35</td>
      <td>0</td>
      <td>60</td>
      <td>39</td>
      <td>60</td>
      <td>42</td>
      <td>0</td>
      <td>0</td>
      <td>35</td>
      <td>0</td>
      <td>0</td>
      <td>60</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2005</td>
      <td>52</td>
      <td>44</td>
      <td>46</td>
      <td>69</td>
      <td>50</td>
      <td>54</td>
      <td>39</td>
      <td>60</td>
      <td>60</td>
      <td>52</td>
      <td>0</td>
      <td>0</td>
      <td>67</td>
      <td>60</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2006</td>
      <td>39</td>
      <td>16</td>
      <td>0</td>
      <td>0</td>
      <td>60</td>
      <td>55</td>
      <td>37</td>
      <td>0</td>
      <td>0</td>
      <td>80</td>
      <td>0</td>
      <td>0</td>
      <td>48</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2007</td>
      <td>48</td>
      <td>40</td>
      <td>0</td>
      <td>74</td>
      <td>53</td>
      <td>61</td>
      <td>45</td>
      <td>0</td>
      <td>0</td>
      <td>51</td>
      <td>56</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2008</td>
      <td>45</td>
      <td>56</td>
      <td>0</td>
      <td>66</td>
      <td>58</td>
      <td>55</td>
      <td>43</td>
      <td>54</td>
      <td>60</td>
      <td>52</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2009</td>
      <td>43</td>
      <td>38</td>
      <td>0</td>
      <td>71</td>
      <td>46</td>
      <td>55</td>
      <td>56</td>
      <td>68</td>
      <td>0</td>
      <td>63</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2010</td>
      <td>48</td>
      <td>45</td>
      <td>18</td>
      <td>0</td>
      <td>60</td>
      <td>58</td>
      <td>51</td>
      <td>0</td>
      <td>58</td>
      <td>63</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2011</td>
      <td>51</td>
      <td>57</td>
      <td>31</td>
      <td>70</td>
      <td>56</td>
      <td>53</td>
      <td>52</td>
      <td>79</td>
      <td>0</td>
      <td>56</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2012</td>
      <td>39</td>
      <td>45</td>
      <td>21</td>
      <td>62</td>
      <td>58</td>
      <td>61</td>
      <td>53</td>
      <td>79</td>
      <td>0</td>
      <td>55</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2013</td>
      <td>33</td>
      <td>43</td>
      <td>0</td>
      <td>0</td>
      <td>42</td>
      <td>57</td>
      <td>44</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2014</td>
      <td>38</td>
      <td>62</td>
      <td>0</td>
      <td>0</td>
      <td>57</td>
      <td>62</td>
      <td>50</td>
      <td>81</td>
      <td>0</td>
      <td>74</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2015</td>
      <td>40</td>
      <td>45</td>
      <td>0</td>
      <td>23</td>
      <td>61</td>
      <td>55</td>
      <td>46</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>63</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2016</td>
      <td>42</td>
      <td>35</td>
      <td>0</td>
      <td>45</td>
      <td>53</td>
      <td>57</td>
      <td>39</td>
      <td>35</td>
      <td>0</td>
      <td>68</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2017</td>
      <td>39</td>
      <td>26</td>
      <td>0</td>
      <td>0</td>
      <td>41</td>
      <td>0</td>
      <td>52</td>
      <td>80</td>
      <td>0</td>
      <td>29</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2018</td>
      <td>57</td>
      <td>46</td>
      <td>0</td>
      <td>0</td>
      <td>46</td>
      <td>74</td>
      <td>67</td>
      <td>0</td>
      <td>0</td>
      <td>23</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2019</td>
      <td>36</td>
      <td>32</td>
      <td>69</td>
      <td>32</td>
      <td>43</td>
      <td>54</td>
      <td>59</td>
      <td>0</td>
      <td>0</td>
      <td>17</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-b781f422-9135-4e6d-8a4c-988fe56e871a')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-b781f422-9135-4e6d-8a4c-988fe56e871a button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-b781f422-9135-4e6d-8a4c-988fe56e871a');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="V2MeZcacJbdp">
<p>Now, by looking down each genre column vertically, we can see how the average popularity changed over time, numerically.</p>
</div>
<div class="cell markdown" id="41o4PsfYJjLl">
<p>Similar to how we created a bar graph displaying the top 5 most frequent genres over the years and how their frequencies changed over time, we also created a line graph displaying how the top 5 most frequent genres' average popularity changed over the years. Once again, this included the genres pop, hip hop, R&amp;B, Dance/Electronic, and rock.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:470,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="0PDR_bHXDfu0" data-outputId="173c3e89-e76b-4440-dbd1-bba6af858489">
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize <span class="op">=</span>(<span class="dv">25</span>, <span class="dv">8</span>))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>plt.plot(genre_pop[<span class="st">&#39;year&#39;</span>], genre_pop[<span class="st">&#39;pop&#39;</span>], color<span class="op">=</span><span class="st">&#39;lightcoral&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>plt.plot(genre_pop[<span class="st">&#39;year&#39;</span>], genre_pop[<span class="st">&#39;hip hop&#39;</span>], color<span class="op">=</span><span class="st">&#39;royalblue&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>plt.plot(genre_pop[<span class="st">&#39;year&#39;</span>], genre_pop[<span class="st">&#39;R&amp;B&#39;</span>], color<span class="op">=</span><span class="st">&#39;lightgreen&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>plt.plot(genre_pop[<span class="st">&#39;year&#39;</span>], genre_pop[<span class="st">&#39;Dance/Electronic&#39;</span>], color<span class="op">=</span><span class="st">&#39;mediumpurple&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>plt.plot(genre_pop[<span class="st">&#39;year&#39;</span>], genre_pop[<span class="st">&#39;rock&#39;</span>], color<span class="op">=</span><span class="st">&#39;black&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Genre Popularity&#39;</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Popularity&#39;</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>plt.legend([<span class="st">&#39;pop&#39;</span>, <span class="st">&#39;hip hop&#39;</span>, <span class="st">&#39;R&amp;B&#39;</span>, <span class="st">&#39;Dance/Electronic&#39;</span>, <span class="st">&#39;rock&#39;</span>])</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_1d14fb7bbb7f4419966611b58a09b64c/76452e818f62c1f8243a17d898f9b44d3866a853.png" /></p>
</div>
</div>
<div class="cell markdown" id="y4TxXctvL3mT">
<p>While we were expecting to see pop with the highest popularity due to its high frequency, we were surprised to see that this was not the case. Instead, it appears that R&amp;B has the highest popularity score on average, omitting 2017. Hip hop follows closely behind, switching off with R&amp;B as the most popular genre at certain points. Pop and Dance/Electronic generally maintain the same popularity over the years, maintaining in the 30-50 range. Rock's popularity frequently fluctuates, switching off from having a high and low popularity.</p>
</div>
<div class="cell markdown" id="ULBoVpr5PpyI">
<p>So, now that we determined that we can't exactly attribute a genre's popularity to its frequency on the Top Hits chart, what factors can we attribute? To find out, we decided to analyze factors such as liveliness, energy, and danceablity to see if they are possible factors that can affect a song's popularity. To do so, we averaged each genres's liveliness, energy, and danceability score and displayed how this changed over time using multiple line graphs.</p>
</div>
<div class="cell code" id="xEAuj1qEykMm">
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>genres <span class="op">=</span> []</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>years <span class="op">=</span> []</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>energies <span class="op">=</span> []</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>dance <span class="op">=</span> []</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>live <span class="op">=</span> []</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> energy, danceability, liveness, year, genre <span class="kw">in</span> <span class="bu">zip</span>(data[<span class="st">&quot;energy&quot;</span>], data[<span class="st">&quot;danceability&quot;</span>], data[<span class="st">&quot;liveness&quot;</span>], data[<span class="st">&quot;year&quot;</span>], data[<span class="st">&quot;genre&quot;</span>]):</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&quot;,&quot;</span> <span class="kw">in</span> genre:</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>      commas <span class="op">=</span> genre.count(<span class="st">&#39;,&#39;</span>)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">while</span>(commas <span class="op">&gt;</span> <span class="dv">0</span>):</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        c <span class="op">=</span> genre.find(<span class="st">&#39;,&#39;</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(genre <span class="op">==</span> <span class="st">&quot;pop&quot;</span> <span class="kw">or</span> genre <span class="op">==</span> <span class="st">&quot;hip hop&quot;</span> <span class="kw">or</span> genre <span class="op">==</span> <span class="st">&quot;Dance/Electronic&quot;</span> <span class="kw">or</span> genre <span class="op">==</span> <span class="st">&quot;R&amp;B&quot;</span> <span class="kw">or</span> genre <span class="op">==</span> <span class="st">&quot;rock&quot;</span>):</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>          genres.append(genre[<span class="dv">0</span>:c])</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>          years.append(year)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>          dance.append(danceability)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>          energies.append(energy)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>          live.append(liveness)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        genre <span class="op">=</span> genre[c<span class="op">+</span><span class="dv">2</span>:<span class="bu">len</span>(genre)]</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        commas <span class="op">=</span> commas <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(genre <span class="op">==</span> <span class="st">&quot;pop&quot;</span> <span class="kw">or</span> genre <span class="op">==</span> <span class="st">&quot;hip hop&quot;</span> <span class="kw">or</span> genre <span class="op">==</span> <span class="st">&quot;Dance/Electronic&quot;</span> <span class="kw">or</span> genre <span class="op">==</span> <span class="st">&quot;R&amp;B&quot;</span> <span class="kw">or</span> genre <span class="op">==</span> <span class="st">&quot;rock&quot;</span>): </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>      genres.append(genre)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>      years.append(year)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>      dance.append(danceability)</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>      energies.append(energy)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>      live.append(liveness)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame()</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&quot;year&quot;</span>] <span class="op">=</span> years</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&quot;genre&quot;</span>] <span class="op">=</span> genres</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&quot;danceability&quot;</span>] <span class="op">=</span> dance</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&quot;energy&quot;</span>] <span class="op">=</span> energies</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&quot;liveness&quot;</span>] <span class="op">=</span> live</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&quot;count&quot;</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>conn <span class="op">=</span> sqlite3.<span class="ex">connect</span>(<span class="st">&#39;test_database&#39;</span>)</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> conn.cursor()</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>c.execute(<span class="st">&#39;CREATE TABLE IF NOT EXISTS products (product_name text, price number)&#39;</span>)</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>conn.commit()</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>df.to_sql(<span class="st">&#39;products&#39;</span>, conn, if_exists<span class="op">=</span><span class="st">&#39;replace&#39;</span>, index <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>payroll_query <span class="op">=</span><span class="st">&quot;SELECT year, genre, sum(danceability)/sum(count) as genre_danceability, sum(energy)/sum(count) as genre_energy, sum(liveness)/sum(count) as genre_liveness FROM products GROUP BY year, genre&quot;</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> pd.read_sql(payroll_query, conn)</span></code></pre></div>
</div>
<div class="cell markdown" id="CtRE5EmGUeDQ">
<p>The aforementioned code finds the average danceability, energy, and liveliness for each year for each genre and creates a dataframe that enables us to plot the values against year for each genre. For each year, the sum of danceability for each genre's songs, energy, and liveliness were calculated and divided by the total number of songs to get the averages. We iterated through these columns in our dataframe in order to do so and created a new dataframe with the averages by converting to SQL and back into a pandas dataframe</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:533,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="-_uXJRPBGS2_" data-outputId="99453d03-b946-4cba-f7fe-646ad781bfc5">
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sns.lineplot(x <span class="op">=</span> <span class="st">&quot;year&quot;</span>, y <span class="op">=</span> <span class="st">&quot;genre_danceability&quot;</span>, data <span class="op">=</span> table, hue <span class="op">=</span> <span class="st">&quot;genre&quot;</span>).<span class="bu">set</span>(title<span class="op">=</span> <span class="st">&quot;Genre Danceability over the Years&quot;</span>, ylabel <span class="op">=</span> <span class="st">&quot;Genre Danceability&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(rc<span class="op">=</span>{<span class="st">&#39;figure.figsize&#39;</span>:(<span class="fl">11.7</span>,<span class="fl">8.27</span>)})</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_1d14fb7bbb7f4419966611b58a09b64c/83a3e27beb66d1fdb1e2ccbcc9d78825704416ab.png" /></p>
</div>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:533,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="3rZCakjdXvpx" data-outputId="715aa582-070d-4ed2-adb7-25fe268ba136">
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sns.lineplot(x <span class="op">=</span> <span class="st">&quot;year&quot;</span>, y <span class="op">=</span> <span class="st">&quot;genre_energy&quot;</span>, data <span class="op">=</span> table, hue <span class="op">=</span> <span class="st">&quot;genre&quot;</span>).<span class="bu">set</span>(title<span class="op">=</span> <span class="st">&quot;Energy of Songs in Genre over the Years&quot;</span>, ylabel <span class="op">=</span> <span class="st">&quot;Song Energy in Genre&quot;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(rc<span class="op">=</span>{<span class="st">&#39;figure.figsize&#39;</span>:(<span class="fl">11.7</span>,<span class="fl">8.27</span>)})</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_1d14fb7bbb7f4419966611b58a09b64c/34807174d9ea21b11a186a085d97cf3a372c6923.png" /></p>
</div>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:533,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="tn89L6s-Xzow" data-outputId="330c5b01-1620-4077-ac2b-7f1537724b9e">
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>sns.lineplot(x <span class="op">=</span> <span class="st">&quot;year&quot;</span>, y <span class="op">=</span> <span class="st">&quot;genre_liveness&quot;</span>, data <span class="op">=</span> table, hue <span class="op">=</span> <span class="st">&quot;genre&quot;</span>).<span class="bu">set</span>(title<span class="op">=</span> <span class="st">&quot;Liveness of Songs in Genre over the Years&quot;</span>, ylabel <span class="op">=</span> <span class="st">&quot;Genre Liveness&quot;</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(rc<span class="op">=</span>{<span class="st">&#39;figure.figsize&#39;</span>:(<span class="fl">11.7</span>,<span class="fl">8.27</span>)})</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_1d14fb7bbb7f4419966611b58a09b64c/ee0507d3490378f7f25fbc72bbd48ffb6f08e40e.png" /></p>
</div>
</div>
<div class="cell markdown" id="7Zr7cn-6ZV_6">
<p>Analyzing these graphs, we can see that genres with a high popularity, such as hip hop, also have a high danceability and liveliness score, which genres with a lower popularity (relative to the 5 genres we are focusing on) have a lower danceability and liveliness score. Energy is a factor that we noticed fluctuates throughout, regardless of genre. Taking this information into account, we can definitely attribute factors such as danceability and liveliness to what makes a song popular.</p>
</div>
<div class="cell markdown" id="2S1Bi-x-WQeO">
<p>#Insights Attained</p>
<p>We took a look into what makes a song popular by seeing what qualities (danceability, liveliness) hit songs tend to have. We might not have the voice or talents to make a hit song, but now we know the characteristics that it should fit to make it viral.</p>
<p>Due to the data being based off of Spotify results, it is definitely geared towards a younger audience, inherently skewing the graphs towards more upbeat music. However music and culture as a whole seems to be moving in that direction. Based on what we extrapolated from the dataset, we can come to a conclusion that people today like a more fast paced, lively song than back in 2000, and that it will probably stay this way for the near future.</p>
</div>
</body>
</html>
